---
layout: post                        ## 文章使用的模板
title: 第五章 虚拟DOM和性能优化 		## 文章的标题
date: 2018-11-2 17:10:00			## 发布时间
author: "FaceWaller"                ## 作者
categories: React
tags: React
---

需要好好理解的内容!!!!!

# 虚拟DOM
>虚拟DOM是和真实DOM相对应的,真实DOM也就是平时我们所说的DOM,它是对结构化文本的抽象表达.  
>在web环境中,其实就是对HTML文本的一种抽象描述,HTML元素的层级关系也会体现在DOM节点的层级上,所有的这些DOM节点构成一棵DOM树.  
>传统的前端开发,通过调用浏览器提供的一组API直接对DOM执行增删改查的操作.这些操作看似只执行了一条JavaScript语句,但它们的执行效率要比执行一条普通的JavaScript语句慢的多.  
>操作DOM效率低下的问题,可以通过增加一层抽象去解决,虚拟DOM就是这层抽象,简历在真实DOM之上,对真实DOM的抽象.  
>虚拟DOM使用普通的JavaScript对象来描述DOM元素,例如
	
	//一个DOM结构
	<div className='foo'>
		<h1>Hello React</h1>
	</div>
	
	//可以用一个JavaScript对象来表达
	{
		type:'div',
		props:{
			className:'foo',
			children:{
				type:'h1',
				props:{
					children:'Hello React'
				}
			}
		}
	}
	
	

# Diff算法
>每次组件的状态或属性更新,组件的render方法都会返回一个新的虚拟DOM对象,用来表述新的UI结构.  
>每次render,React会通过比较两次虚拟DOM结构的变化找出差异部分,更新到真实DOM上,从而减少最终要在真实DOM上执行的操作,提高程序的执行效率.这一过程就是React的调和过程,其中关键是比较两个树形结构的Diff算法.  


>正常情况下,比较两个树形结构差异的算法的时间复杂度是O(N^3),这个效率是无法接受的.  
>React通过总结DOM的实际应用场景提出了两个在绝大多数场景都成立的假设,基于这两个假设实现了O(N)时间复杂度内完成两棵虚拟DOM树的比较.
	1.如果两个元素的类型不同,那么它们将生成两棵不同的树.  
	2.为列表中的元素设置key属性,用key标识对应的元素在多次render过程中是否发生变化.  





# 性能优化

# 性能检测工具

# 小结
